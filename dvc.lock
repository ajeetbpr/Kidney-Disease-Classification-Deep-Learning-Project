schema: '2.0'
stages:
  data_ingestion:
    cmd: python src/cnnClassifier/pipeline/stage_01_data_ingestion.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: b769ce5933f73f2cd88fa48936363489
      size: 569
    - path: src/cnnClassifier/pipeline/stage_01_data_ingestion.py
      hash: md5
      md5: a6341ada4b0bb3d7c024256d9e00e0f3
      size: 893
    outs:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: 89ce8b5fbe5419e85b37ffb5e3ce4a24.dir
      size: 961122129
      nfiles: 7361
  prepare_base_model:
    cmd: python src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
    deps:
    - path: config/config.yaml
      hash: md5
      md5: b769ce5933f73f2cd88fa48936363489
      size: 569
    - path: src/cnnClassifier/pipeline/stage_02_prepare_base_model.py
      hash: md5
      md5: 268ea08f014db463eab0aed1e035fd19
      size: 933
    params:
      params.yaml:
        CLASSES: 2
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.01
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model
      hash: md5
      md5: d782de21c5a95b8df14c6a50427a4c32.dir
      size: 118059248
      nfiles: 2
  training:
    cmd: python src/cnnClassifier/pipeline/stage_03_model_training.py
    deps:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: 89ce8b5fbe5419e85b37ffb5e3ce4a24.dir
      size: 961122129
      nfiles: 7361
    - path: artifacts/prepare_base_model
      hash: md5
      md5: d782de21c5a95b8df14c6a50427a4c32.dir
      size: 118059248
      nfiles: 2
    - path: config/config.yaml
      hash: md5
      md5: b769ce5933f73f2cd88fa48936363489
      size: 569
    - path: src/cnnClassifier/pipeline/stage_03_model_training.py
      hash: md5
      md5: e5d1f43446a13b0dbb9e24bb951294b2
      size: 850
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 16
        EPOCHS: 1
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/training/model.h5
      hash: md5
      md5: 6129793ca610c52b54a13814bb17cfef
      size: 59340720
  evaluation:
    cmd: python src/cnnClassifier/pipeline/stage_04_model_evaluation.py
    deps:
    - path: artifacts/data_ingestion/CT-KIDNEY-DATASET-Normal-Cyst-Tumor-Stone
      hash: md5
      md5: 89ce8b5fbe5419e85b37ffb5e3ce4a24.dir
      size: 961122129
      nfiles: 7361
    - path: artifacts/training/model.h5
      hash: md5
      md5: 6129793ca610c52b54a13814bb17cfef
      size: 59340720
    - path: config/config.yaml
      hash: md5
      md5: b769ce5933f73f2cd88fa48936363489
      size: 569
    - path: src/cnnClassifier/pipeline/stage_04_model_evaluation.py
      hash: md5
      md5: 6a344db10dcc42e0cdb5a7f143164734
      size: 902
    params:
      params.yaml:
        BATCH_SIZE: 16
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: scores.json
      hash: md5
      md5: 924dd539fa5e1a1cc7e7b86e1ace4c1d
      size: 69
